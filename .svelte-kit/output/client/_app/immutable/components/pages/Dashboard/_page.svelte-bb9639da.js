import{S as ue,i as de,s as he,k as v,l as b,m as k,h as f,n as y,b as V,t as A,d as me,f as L,o as _e,g as pe,L as fe,x as le,y as oe,z as se,C as ge,A as re,a as E,q as N,c as I,r as x,H as h,J as ie,u as ce,M as ve}from"../../../chunks/index-7ca2b6e0.js";import{a as be,A as Q,d as X,O as ye,U as Z}from"../../../chunks/fb-10117989.js";import{S as De,N as ke}from"../../../chunks/Navbar-fedad836.js";let O;const Ue=new Uint8Array(16);function Te(){if(!O&&(O=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!O))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return O(Ue)}const _=[];for(let n=0;n<256;++n)_.push((n+256).toString(16).slice(1));function $e(n,e=0){return(_[n[e+0]]+_[n[e+1]]+_[n[e+2]]+_[n[e+3]]+"-"+_[n[e+4]]+_[n[e+5]]+"-"+_[n[e+6]]+_[n[e+7]]+"-"+_[n[e+8]]+_[n[e+9]]+"-"+_[n[e+10]]+_[n[e+11]]+_[n[e+12]]+_[n[e+13]]+_[n[e+14]]+_[n[e+15]]).toLowerCase()}const Ee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ee={randomUUID:Ee};function te(n,e,a){if(ee.randomUUID&&!e&&!n)return ee.randomUUID();n=n||{};const t=n.random||(n.rng||Te)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,e){a=a||0;for(let s=0;s<16;++s)e[a+s]=t[s];return e}return $e(t)}function ne(n,e,a){const t=n.slice();return t[4]=e[a],t}function Ie(n){let e,a;return e=new De({}),{c(){le(e.$$.fragment)},l(t){oe(e.$$.fragment,t)},m(t,s){se(e,t,s),a=!0},p:ge,i(t){a||(L(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){re(e,t)}}}function Se(n){let e,a,t,s,i,u,d,l=n[1].name+"",r,m,g,R,B,T,H,P,j,M,W,q,$,C,z,J;e=new ke({props:{userDB:n[1],dashboard:!0}});let S=Object.values(n[1].notes),p=[];for(let o=0;o<S.length;o+=1)p[o]=ae(ne(n,S,o));return{c(){le(e.$$.fragment),a=E(),t=v("div"),s=v("div"),i=v("div"),u=v("h1"),d=N("Welcome To Your Dashboard, "),r=N(l),m=E(),g=v("p"),R=N("Here you can access all of your notes :D. (PS Click On Their Title To Open Them)"),B=E(),T=v("button"),H=N("Create Note"),P=E(),j=v("br"),M=E(),W=v("br"),q=E(),$=v("div");for(let o=0;o<p.length;o+=1)p[o].c();this.h()},l(o){oe(e.$$.fragment,o),a=I(o),t=b(o,"DIV",{class:!0});var D=k(t);s=b(D,"DIV",{class:!0});var U=k(s);i=b(U,"DIV",{class:!0});var c=k(i);u=b(c,"H1",{class:!0});var w=k(u);d=x(w,"Welcome To Your Dashboard, "),r=x(w,l),w.forEach(f),m=I(c),g=b(c,"P",{class:!0});var F=k(g);R=x(F,"Here you can access all of your notes :D. (PS Click On Their Title To Open Them)"),F.forEach(f),B=I(c),T=b(c,"BUTTON",{class:!0});var G=k(T);H=x(G,"Create Note"),G.forEach(f),P=I(c),j=b(c,"BR",{}),M=I(c),W=b(c,"BR",{}),q=I(c),$=b(c,"DIV",{class:!0});var K=k($);for(let Y=0;Y<p.length;Y+=1)p[Y].l(K);K.forEach(f),c.forEach(f),U.forEach(f),D.forEach(f),this.h()},h(){y(u,"class","text-5xl font-bold"),y(g,"class","py-6"),y(T,"class","btn text-white"),y($,"class","grid grid-cols-3 gap-2"),y(i,"class","max-w-md"),y(s,"class","hero-content text-center"),y(t,"class","hero min-h-screen bg-base-200 has-text-centered ")},m(o,D){se(e,o,D),V(o,a,D),V(o,t,D),h(t,s),h(s,i),h(i,u),h(u,d),h(u,r),h(i,m),h(i,g),h(g,R),h(i,B),h(i,T),h(T,H),h(i,P),h(i,j),h(i,M),h(i,W),h(i,q),h(i,$);for(let U=0;U<p.length;U+=1)p[U].m($,null);C=!0,z||(J=ie(T,"click",n[2]),z=!0)},p(o,D){const U={};if(D&2&&(U.userDB=o[1]),e.$set(U),(!C||D&2)&&l!==(l=o[1].name+"")&&ce(r,l),D&2){S=Object.values(o[1].notes);let c;for(c=0;c<S.length;c+=1){const w=ne(o,S,c);p[c]?p[c].p(w,D):(p[c]=ae(w),p[c].c(),p[c].m($,null))}for(;c<p.length;c+=1)p[c].d(1);p.length=S.length}},i(o){C||(L(e.$$.fragment,o),C=!0)},o(o){A(e.$$.fragment,o),C=!1},d(o){re(e,o),o&&f(a),o&&f(t),ve(p,o),z=!1,J()}}}function ae(n){let e,a,t=n[4].title+"",s,i,u,d,l;return{c(){e=v("div"),a=v("a"),s=N(t),u=E(),this.h()},l(r){e=b(r,"DIV",{class:!0});var m=k(e);a=b(m,"A",{href:!0,class:!0});var g=k(a);s=x(g,t),g.forEach(f),u=I(m),m.forEach(f),this.h()},h(){y(a,"href",i="/editor/"+n[4].docid),y(a,"class","subtitle text-center"),y(e,"class","box svelte-z2g42p")},m(r,m){V(r,e,m),h(e,a),h(a,s),h(e,u),d||(l=ie(e,"click{go}",n[3]),d=!0)},p(r,m){m&2&&t!==(t=r[4].title+"")&&ce(s,t),m&2&&i!==(i="/editor/"+r[4].docid)&&y(a,"href",i)},d(r){r&&f(e),d=!1,l()}}}function we(n){let e,a,t,s;const i=[Se,Ie],u=[];function d(l,r){return l[0]!=="Loading..."&&l[0]!==null&&l[1]!=="Loading..."&&l[1]!==null?0:1}return a=d(n),t=u[a]=i[a](n),{c(){e=v("html"),t.c(),this.h()},l(l){e=b(l,"HTML",{"data-theme":!0});var r=k(e);t.l(r),r.forEach(f),this.h()},h(){y(e,"data-theme","pastel")},m(l,r){V(l,e,r),u[a].m(e,null),s=!0},p(l,[r]){let m=a;a=d(l),a===m?u[a].p(l,r):(pe(),A(u[m],1,1,()=>{u[m]=null}),me(),t=u[a],t?t.p(l,r):(t=u[a]=i[a](l),t.c()),L(t,1),t.m(e,null))},i(l){s||(L(t),s=!0)},o(l){A(t),s=!1},d(l){l&&f(e),u[a].d()}}}function Ce(n,e,a){let t="Loading...",s="Loading...";_e(async()=>{be.onAuthStateChanged(async d=>{if(d){a(0,t=d),d.uid;const l=Q(X,"Users",t.uid),r=await ye(l);if(r.exists())a(1,s=r.data());else{let m=te();const g={};g[m]={title:"Welcome to AiNotes!",noteContent:"This is a note. Try using AI to autocomplete your notes!",docid:m},Z(l,{email:t.email,uid:t.uid,name:t.displayName,credits:300,notes:g}),a(1,s={email:t.email,uid:t.uid,name:t.displayName,credits:300,notes:g})}}else location.href="/"})});async function i(){a(0,t="Loading...");let d=te();const l=s.notes;l[d]={title:"Untitled Document",noteContent:"",docid:d};const r=Q(X,"Users",t.uid);await Z(r,{email:t.email,uid:t.uid,name:t.displayName,credits:s.credits,notes:l}),location.href="/editor/"+d}function u(d){fe.call(this,n,d)}return[t,s,i,u]}class Ve extends ue{constructor(e){super(),de(this,e,Ce,we,he,{})}}export{Ve as default};
